!function(t,o){"object"==typeof exports&&"object"==typeof module?module.exports=o():"function"==typeof define&&define.amd?define([],o):"object"==typeof exports?exports.H5VideoPlayer=o():t.H5VideoPlayer=o()}(this,function(){return function(t){function o(e){if(i[e])return i[e].exports;var n=i[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,o),n.l=!0,n.exports}var i={};return o.m=t,o.c=i,o.d=function(t,i,e){o.o(t,i)||Object.defineProperty(t,i,{configurable:!1,enumerable:!0,get:e})},o.n=function(t){var i=t&&t.__esModule?function(){return t.default}:function(){return t};return o.d(i,"a",i),i},o.o=function(t,o){return Object.prototype.hasOwnProperty.call(t,o)},o.p="",o(o.s=0)}([function(t,o,i){"use strict";function e(t,o){if(!(t instanceof o))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(o,"__esModule",{value:!0});var n=function(){function t(o,i){var n=i.context,s=void 0===n?"body":n,a=i.control,l=void 0!==a&&a,p=i.autoPlay,u=void 0!==p&&p,c=i.autoClose,d=void 0===c||c,h=i.orientation,y=void 0===h?"portrait":h,f=i.aspectRatio,v=void 0===f?9/16:f;e(this,t),this.context=r(s)?document.querySelector(s):s,this.options={source:o,control:l,autoPlay:u,autoClose:d,orientation:y,aspectRatio:v},this.container=null,this.video=null,this.mask=null,this.playButton=null,this.init()}return t.prototype.init=function(){this.container=document.createElement("div"),s(this.container,{position:"absolute",left:"-100%",top:"-100%",right:"-100%",bottom:"-100%",margin:"auto",width:"100vw",minWidth:100*this.options.aspectRatio+"vh",height:100/this.options.aspectRatio+"vw",minHeight:"100vh",backgroundColor:"black",zIndex:"9999",overflow:"hidden"}),this.container.innerHTML='\n      <video width="100%" src='+this.options.source+' preload x-webkit-airplay="allow" webkit-playsinline="true" playsinline x5-video-player-type="h5" x5-video-player-fullscreen="true" x5-video-orientation='+this.options.orientation+"></video>\n      <div></div>\n    ",this.video=this.container.querySelector("video"),s(this.video,{position:"absolute",left:"0",top:"0",width:"100%",height:"100%",zIndex:"-1",objectFit:"fill",objectPosition:"50% 50%"}),this.mask=this.container.querySelector("div"),s(this.mask,{position:"absolute",left:"0",top:"0",width:"100%",height:"100%",zIndex:"10"}),this.options.control&&(this.playButton=document.createElement("div"),s(this.playButton,{position:"absolute",left:"0",top:"0",width:"100%",height:"100%",zIndex:"100",backgroundColor:"rgba(0, 0, 0, .1)"}),this.playButton.innerHTML='\n<div style="position: absolute; left: 0; top: 0; right: 0; bottom: 0; margin: auto; max-width: 60px; max-height: 60px; cursor: pointer; opacity: .6;">\n  <svg viewBox="0 0 64 64" style=" max-width: 60px; max-height: 60px; fill: #fff;">\n    <path\n      d="M26,45.5L44,32L26,18.6v27V45.5L26,45.5z M32,2C15.4,2,2,15.5,2,32c0,16.6,13.4,30,30,30c16.6,0,30-13.4,30-30 C62,15.4,48.5,2,32,2L32,2z M32,56c-9.7,0-18.5-5.9-22.2-14.8C6.1,32.2,8.1,21.9,15,15c6.9-6.9,17.2-8.9,26.2-5.2 C50.1,13.5,56,22.3,56,32C56,45.3,45.2,56,32,56L32,56z"/>\n  </svg>\n</div>\n      ',this.container.appendChild(this.playButton))},t.prototype.load=function(){return this.context.contains(this.container)||this.context.appendChild(this.container),this.eventBind(),this.options.autoPlay&&this.play(),this},t.prototype.eventBind=function(){var t=this;this.options.control&&(this.mask.addEventListener("click",function(){t._isPlaying()?t.pause():t.play()}),this.playButton.addEventListener("click",function(){t.play()})),this.video.addEventListener("ended",function(){t._showPlayBtn(),t.options.autoClose&&t._remove()})},t.prototype.play=function(){this.video.play(),this._hiddenPlayBtn()},t.prototype.pause=function(){this.video.pause(),this._showPlayBtn()},t.prototype._showPlayBtn=function(){this.playButton&&(this.playButton.style.display="block")},t.prototype._hiddenPlayBtn=function(){this.playButton&&(this.playButton.style.display="none")},t.prototype._isPlaying=function(){return this.video.currentTime>0&&!this.video.paused&&!this.video.ended&&this.video.readyState>2},t.prototype._remove=function(){this.context.removeChild(this.container)},t}();o.default=n;var s=function(t,o){for(var i in o)t.style[i]=o[i]},r=function(t){return"string"==typeof t&&t.constructor===String}}]).default});
//# sourceMappingURL=H5VideoPlayer.min.js.map